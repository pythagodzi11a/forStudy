# 跟PlatformIO爆了！！！
这两天想尝试把配置文件等等写到8266的flash里面。被狠狠的玩弄了。
```json
"env" : "nodemcuv2"
"real_flash_size" : "1M"
```
## 故障复现
### ArduinoIDE
配置中选择了```4M(1M)```的配置，错误在于编译上传报错，
>这个报错真的救我一命。
### PlatformIO
踏马的跟哑巴一样啥都没有就好像你nn的跟平常一样。**终端不语，只是一味的SUCCESS**。

但是还是很奇怪的是，我在PlatformIO下上传之后，8266也是不语，但是偶尔，偶尔会被看门狗重启。当flash的大小设置不正确的时候，8266就沉默了。
>我懂了，一定是我给它画饼告诉它有4M的flash可以用，8266就很高兴，结果发现realsize只有1M，它看透了我，于是乎沉默了。

## 干啥了
当我跟PlatformIO折磨了一会之后呢，这个问题挡我路了，所以得解决一下。但是它一味的success。我也不知道到底哪里出问题了。。。但是我很聪明啊，折磨了大概一天多吧，我才意识到，上ArduinoIDE试试看呢？

在上ArduinoIDE之前，我先找kimi搞了个测试程序。```

#include <Arduino.h>
#include "LittleFS.h"

void setup() {
  Serial.begin(115200);
  Serial.println();
  // 挂载文件系统
  if (!LittleFS.begin()) {
    Serial.println("LittleFS 文件系统挂载失败！");
    return;
  }
  Serial.println("LittleFS 文件系统挂载成功！");
  // 打开或创建文件并写入数据
  File file = LittleFS.open("/test.txt", "w");
  if (!file) {
    Serial.println("打开/创建文件失败！");
    return;
  }
  Serial.println("打开/创建文件成功！");
  // 写入数据
  char data[] = "Hello, World!\r\n";
  file.write((uint8_t *)data, strlen(data));
  file.close();
  Serial.println("数据写入成功！");
  // 读取文件内容
  file = LittleFS.open("/test.txt", "r");
  if (!file) {
    Serial.println("打开文件失败！");
    return;
  }
  Serial.println("打开文件成功！");
  Serial.println("文件内容：");
  while (file.available()) {
    Serial.write(file.read());
  }
  file.close();
}
void loop() {
  // 空循环
}
```